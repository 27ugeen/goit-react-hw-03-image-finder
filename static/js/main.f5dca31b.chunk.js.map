{"version":3,"sources":["components/Searchbar/Searchbar.js","components/Spinner/Spinner.js","components/Notification/Notification.js","components/ImageGallery/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","services/imagesApi.js","components/App.js","index.js"],"names":["Searchbar","state","inputValue","handleChange","target","setState","value","handleSubmit","e","preventDefault","props","onHandleSubmit","className","onSubmit","this","type","autoComplete","autoFocus","placeholder","onChange","Component","Spinner","color","height","width","Notification","message","ImageGalleryItem","webformatURL","onSetLargeImage","onClick","src","alt","ImageGallery","images","map","id","largeImageURL","key","Button","onLoadMore","Modal","handleKeyDown","code","onClose","handleOverlayClick","currentTarget","window","addEventListener","removeEventListener","children","URL","API_KEY","fetchImagesWithQuery","query","a","page","requestParams","fetch","resp","json","hits","App","loading","error","searchQuery","largeImage","fetchImages","imagesApi","then","prevState","catch","finally","handleSearchFormSubmit","setLargeImage","url","closeModal","prevProps","prevQuery","nextQuery","prevImages","nextImages","scrollTo","top","document","documentElement","scrollHeight","behavior","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.f5dca31b.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Searchbar extends Component {\r\n  static propTypes = {\r\n    onHandleSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    inputValue: '',\r\n  };\r\n\r\n  handleChange = ({ target }) => {\r\n    this.setState({\r\n      inputValue: target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onHandleSubmit(this.state.inputValue);\r\n    this.setState({\r\n      inputValue: '',\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.inputValue}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nconst Spinner = () => (\r\n  <div className=\"Spinner\">\r\n    <Loader type=\"Bars\" color=\"#3f51b5\" height={50} width={50} />\r\n  </div>\r\n);\r\n\r\nexport default Spinner;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Notification = ({ message }) => <p>{`Error: ${message}`}</p>;\r\n\r\nNotification.propTypes = {\r\n  message: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Notification;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ webformatURL, onSetLargeImage }) => (\r\n  <li className=\"ImageGalleryItem\" onClick={onSetLargeImage}>\r\n    <img src={webformatURL} alt=\"\" className=\"ImageGalleryItem-image\" />\r\n  </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  onSetLargeImage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport ImageGalleryItem from './ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ images, onSetLargeImage }) => (\r\n  <ul className=\"ImageGallery\">\r\n    {images.map(({ id, webformatURL, largeImageURL }) => (\r\n      <ImageGalleryItem\r\n        key={id}\r\n        webformatURL={webformatURL}\r\n        onSetLargeImage={() => onSetLargeImage(largeImageURL)}\r\n      />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    }),\r\n  ),\r\n  onSetLargeImage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({ onLoadMore }) => (\r\n  <div className=\"Spinner\">\r\n    <button type=\"button\" className=\"Button\" onClick={onLoadMore}>\r\n      Load more\r\n    </button>\r\n  </div>\r\n);\r\n\r\nButton.propTypes = {\r\n  onLoadMore: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n    children: PropTypes.node.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleOverlayClick = e => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Overlay\" onClick={this.handleOverlayClick}>\r\n        <div className=\"Modal\">{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","const URL = 'https://pixabay.com/api/';\r\nconst API_KEY = '14594113-3565582ddf884392468dadf7f';\r\n\r\nconst fetchImagesWithQuery = async (query, page = 1) => {\r\n  const requestParams = `?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=${API_KEY}`;\r\n  const resp = await fetch(URL + requestParams);\r\n  const { hits } = await resp.json();\r\n  return hits;\r\n};\r\n\r\nexport default { fetchImagesWithQuery };\r\n","import React, { Component } from 'react';\r\nimport Searchbar from './Searchbar';\r\nimport Spinner from './Spinner';\r\nimport Notification from './Notification';\r\nimport ImageGallery from './ImageGallery';\r\nimport Button from './Button';\r\nimport Modal from './Modal';\r\nimport imagesApi from '../services/imagesApi';\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    images: [],\r\n    loading: false,\r\n    error: '',\r\n    searchQuery: '',\r\n    page: 1,\r\n    largeImage: '',\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevState.searchQuery;\r\n    const nextQuery = this.state.searchQuery;\r\n    const prevImages = prevState.images;\r\n    const nextImages = this.state.images;\r\n\r\n    if (prevQuery !== nextQuery) {\r\n      this.fetchImages();\r\n    }\r\n\r\n    if (prevImages !== nextImages) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }\r\n\r\n  fetchImages = () => {\r\n    const { searchQuery, page } = this.state;\r\n\r\n    this.setState({ loading: true });\r\n    imagesApi\r\n      .fetchImagesWithQuery(searchQuery, page)\r\n      .then(images =>\r\n        this.setState(prevState => ({\r\n          images: [...prevState.images, ...images],\r\n          page: prevState.page + 1,\r\n        })),\r\n      )\r\n      .catch(({ message }) => this.setState({ error: message }))\r\n      .finally(() => this.setState({ loading: false }));\r\n  };\r\n\r\n  handleSearchFormSubmit = query => {\r\n    this.setState({\r\n      images: [],\r\n      searchQuery: query,\r\n      page: 1,\r\n    });\r\n  };\r\n\r\n  setLargeImage = url => {\r\n    this.setState({ largeImage: url });\r\n  };\r\n\r\n  closeModal = () => {\r\n    this.setState({ largeImage: '' });\r\n  };\r\n\r\n  render() {\r\n    const { images, loading, error, largeImage } = this.state;\r\n    return (\r\n      <>\r\n        <div className=\"App\">\r\n          <Searchbar onHandleSubmit={this.handleSearchFormSubmit} />\r\n          {error && <Notification message={error} />}\r\n          {images.length > 0 && (\r\n            <ImageGallery\r\n              images={images}\r\n              onSetLargeImage={this.setLargeImage}\r\n            />\r\n          )}\r\n          {loading && <Spinner />}\r\n          {images.length > 0 && !loading && (\r\n            <Button onLoadMore={this.fetchImages} />\r\n          )}\r\n        </div>\r\n        {largeImage && (\r\n          <Modal onClose={this.closeModal}>\r\n            <button\r\n              type=\"button\"\r\n              className=\"close\"\r\n              onClick={this.closeModal}\r\n            ></button>\r\n            <img src={largeImage} alt=\"\" />\r\n          </Modal>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './base.css';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}